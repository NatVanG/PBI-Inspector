{
  "pbiEntries": [
    {
      "name": "reportLayout",
      "pbixEntryPath": "Report/Layout",
      "pbipEntryPath":  "Inventory sample.Report\\report.json",
      "contentType": "json",
      "codepage": 1200,
      "rules": [
        {
          "name": "Sample - Number Of Report Pages - the long way",
          "description": "Counts the number of pages in the report.",
          "path": "$",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "reduce": [
                {
                  "map": [
                    { "var": "s" },
                    {
                      "if": [
                        { "!!": [ { "var": "" } ] },
                        1,
                        0
                      ]
                    }
                  ]
                },
                {
                  "+": [
                    { "var": "current" },
                    { "var": "accumulator" }
                  ]
                },
                0
              ]
            },
            {
              "s": "/sections"
            },
            2
          ]
        },
        {
          "name": "Sample - NumberOfChartsInOverviewPage3",
          "description": "Counts the number of charts in the overview page.",
          "path": "$.sections[?(@.displayName == 'Overview')]",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "reduce": [
                {
                  "map": [
                    { "var": "v" },
                    {
                      "if": [
                        { "!!": [ { "var": "" } ] },
                        1,
                        0
                      ]
                    }
                  ]
                },
                {
                  "+": [
                    { "var": "current" },
                    { "var": "accumulator" }
                  ]
                },
                0
              ]
            },
            {
              "v": "/visualContainers"
            },
            5
          ]
        },
        {
          "name": "Sample - NumberOfChartsInPagesLEQ5",
          "description": "Counts the number of chart per page in the report.",
          "path": "$.sections[*]",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "<=": [
                {
                  "reduce": [
                    {
                      "map": [
                        { "var": "v" },
                        {
                          "if": [
                            { "!!": [ { "var": "" } ] },
                            1,
                            0
                          ]
                        }
                      ]
                    },
                    {
                      "+": [
                        { "var": "current" },
                        { "var": "accumulator" }
                      ]
                    },
                    0
                  ]
                },
                5
              ]
            },
            {
              "d": "/displayName",
              "v": "/visualContainers"
            },
            true
          ]
        },
        {
          "name": "Sample - OverviewX Page Doesn't Exists",
          "description": "Checks that the OverviewX page does not exists.",
          "path": "$.sections[*].displayName",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "none": [
                { "var": "d" },
                {
                  "==": [
                    { "var": "" },
                    "OverviewX"
                  ]
                }
              ]
            },
            { "d": "." },
            true
          ]
        },
        {
          "name": "Sample - Overview Page Exists 2",
          "description": "Checks that the Overview page exists.",
          "path": "$.sections[*].displayName",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "some": [
                { "var": "d" },
                {
                  "==": [
                    { "var": "" },
                    "Overview"
                  ]
                }
              ]
            },
            { "d": "." },
            true
          ]
        },
        {
          "name": "Sample - Overview Page Exists 3",
          "description": "Checks that the Overview page exists.",
          "path": "$.sections[0].displayName",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "==": [
                { "var": "d" },
                [ "Overview" ]
              ]
            },
            { "d": "." },
            true
          ]
        },
        {
          "name": "Sample - Overview Page Exists 4",
          "description": "This is a way to ensure we're not looping through the outer path results array but instead letting JsonLogic do an internal loop on the /sections array.'",
          "path": "$",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "some": [
                { "var": "d" },
                {
                  "==": [
                    { "var": "displayName" },
                    "Overview"
                  ]
                }
              ]
            },
            { "d": "/sections" },
            true
          ]
        },
        {
          "name": "Check that visual at x=0 and y=0 position is logo.",
          "description": "This is a way to ensure we're not looping through the outer path results array but instead letting JsonLogic do an internal loop on the /sections array.'",
          "path": "$.sections[*].visualContainers[?(@.x == 0 && @.y == 0)].config",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "==": [
                { "var": "chartType" },
                "image"
              ]
            },
            { "chartType": "/singleVisual/visualType" },
            true
          ]
        },
        {
          "name": "Sample - ReportSlowDatasourceSettings",
          "description": "Check that report slow data source settings are all disabled.",
          "path": "$.config",
          "pathErrorWhenNoMatch": true,
          "test": [
            {
              "!": [
                {
                  "or": [
                    {
                      "var": "isCrossHighlightingDisabled"
                    },
                    {
                      "var": "isSlicerSelectionsButtonEnabled"
                    },
                    {
                      "var": "isFilterSelectionsButtonEnabled"
                    },
                    {
                      "var": "isFieldWellButtonEnabled"
                    },
                    {
                      "var": "isApplyAllButtonEnabled"
                    }
                  ]
                }
              ]
            },
            {
              "isCrossHighlightingDisabled": "/slowDataSourceSettings/isCrossHighlightingDisabled",
              "isSlicerSelectionsButtonEnabled": "/slowDataSourceSettings/isSlicerSelectionsButtonEnabled",
              "isFilterSelectionsButtonEnabled": "/slowDataSourceSettings/isFilterSelectionsButtonEnabled",
              "isFieldWellButtonEnabled": "/slowDataSourceSettings/isFieldWellButtonEnabled",
              "isApplyAllButtonEnabled": "/slowDataSourceSettings/isApplyAllButtonEnabled"
            },
            true
          ]
        }
      ]
    }
  ]
}